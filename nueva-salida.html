<!doctype html>
<html lang="es">

<head>
    <title>Nueva salida en Cine Buddy</title>
    <meta charset="utf-8">
    <meta name="title" content="Cine Buddy">
    <meta name="description" content="Cine Buddy es un sitio para orgenizar salidas al cine con tus amigos">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
    <link rel="stylesheet" href="styles.css" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <script src="js/bootstrap.min.js" crossorigin="anonymous"></script>
    <style>
        .contentInput {
            border-radius: 4px;
            border: solid 1px rgba(0, 0, 0, 0.32);
            display: flex;
            padding: 11px 10px;
            margin-top: 16px;
        }

        .contentInput .iconInput {
            flex-grow: 1;
            align-self: flex-start;
            padding-top: 4px;
        }

        .contentInput .contentLabel {
            flex-grow: 8;
        }

        .contentInput .btn-radius {
            width: 26px;
            height: 26px;
            padding: 0;
        }

        .contentInput .select-a {
            text-align: right;
        }

        div {
            margin-top: initial;
        }

        p {
            margin: 0;
        }
    </style>
</head>

<body>
    <header>
        <div class="container-fluid">
            <div class="row text-center">
                <div class="col-1">
                    <a href="primeros-pasos.html" title="Usuario"><i class="fas fa-user-circle"></i></a></div>
                <div class="col-10">
                    <h1>Cine Buddy</h1>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container-fluid select-pelicula">
            <a href="elegir-pelicula.html" tabindex="0">
                <div class="row">
                    <div class="col-12">
                        <div class="contentInput">
                            <i class="fas fa-film iconInput"></i>
                            <p class="contentLabel" id="salida_pelicula"></p>
                            <i class="fas fa-chevron-right select-a iconInput"></i>
                        </div>
                    </div>
                </div>
            </a>
            <a href="elegir-cine.html" tabindex="0">
                <div class="row">
                    <div class="col-12">
                        <div class="contentInput">
                            <i class="fas fa-map-marker-alt iconInput"></i>
                            <p class="contentLabel" id="salida_cine"></p>
                            <i class="fas fa-chevron-right select-a iconInput"></i>
                        </div>
                    </div>
                </div>
            </a>
            <div class="row" tabindex="0">
                <div class="col-12">
                    <div class="contentInput">
                        <i tabindex="-1" class="fas fa-user iconInput"></i>
                        <p class="contentLabel" id="salida_personas">¿Cuántas personas van?</p>
                        <div>
                            <button tabindex="0" onclick="clickBtn()" class="btn btn-radius" data-dir="dwn"
                                aria-label="Restar personas">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button tabindex="0" onclick="clickBtn('true')" class="btn btn-radius" data-dir="up"
                                aria-label="Agregar personas">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <a href="dias-y-horarios.html" tabindex="0">
                <div class="row">
                    <div class="col-12">
                        <div class="contentInput">
                            <i class="fas fa-calendar-day iconInput"></i>
                            <div class="contentLabel" id="diaHoras">
                            </div>
                            <i class="fas fa-chevron-right select-a iconInput"></i>
                        </div>
                    </div>
                </div>
            </a>
            <div class="row">
                <div class="col-12 m-top">
                    <button type="button" tabindex="0" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#compartir">
                        Enviar encuesta
                    </button>
                </div>
                <div class="col-12 m-top">
                    <a onclick="cleanData()" tabindex="0" href="primeros-pasos.html" class="btn btn-secondary btn-lg">
                        Cancelar
                    </a>
                </div>
            </div>
        </div>
        <div class="modal fade" id="compartir" tabindex="-1" role="dialog" aria-labelledby="compartir"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content" style="border-radius: 30px;border: 0;">
                    <div class="modal-body text-center">
                        <a href="contacto-wp-encuesta.html" tabindex="0"><img src="images/share.png" /></a>
                    </div>
                    <div class="modal-footer">
                        <button
                            tabindex="0"
                            style="border: 1px solid #e8e5e5;background-color: #f7f7f7;border-radius: 40px;color: #3f8be2;padding: 8px 0;"
                            data-dismiss="modal">
                            CANCELAR
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <h4>Aviso legal</h4>
                </div>
                <div class="col-12">
                    <a href="#">Política de cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <script>
        function agrearPersonas(cantidad) {
            var texto = cantidad;
            if (cantidad == 0) {
                texto = '¿Cuántas personas van?';
            }
            if (cantidad == 1) {
                texto = texto + " Persona"
            }
            if (cantidad > 1) {
                texto = texto + " Personas"
            }
            document.querySelector("#salida_personas").innerHTML = texto;
            window.localStorage.setItem("personas", cantidad);
        }

        var cantidadPersonas = 0;
        function clickBtn(seSuma) {
            if (seSuma) {
                cantidadPersonas++;
            } else {
                if (cantidadPersonas > 0) {
                    cantidadPersonas--;
                }
            }
            agrearPersonas(cantidadPersonas);
        }

        function cleanData() {
            window.localStorage.clear();
        }

        (function () {
            //cargar pelicula
            var pelicula = window.localStorage.getItem("pelicula");
            if (pelicula) {
                document.querySelector("#salida_pelicula").innerHTML = pelicula;
            }else{
                document.querySelector("#salida_pelicula").innerHTML = "Elegí la película";
            }
            //cargar cine 
            var cine = window.localStorage.getItem("cine");
            if (cine) {
                document.querySelector("#salida_cine").innerHTML = cine;
            }else {
                document.querySelector("#salida_cine").innerHTML = "Elegí el cine";
            }
            //cargar personas
            var personas = window.localStorage.getItem("personas");
            if (personas) {
                cantidadPersonas = parseInt(personas, 10);
                agrearPersonas(cantidadPersonas);
            }
            //cargar de horarios
            var horarios = window.localStorage.getItem("horarios");
            if (horarios) {
                horarios = JSON.parse(horarios);
                if (horarios.length) {
                    document.querySelector("#diaHoras").innerHTML = "";
                    horarios.forEach(function (item) {
                        var p = document.createElement("p");
                        p.innerHTML = item.label;
                        document.querySelector("#diaHoras").appendChild(p);
                    });
                }
            }else {
                var p = document.createElement("p");
                p.innerHTML = "Seleccioná los posibles horarios";
                document.querySelector("#diaHoras").appendChild(p);
            }
        })();

    </script>

</body>

</html>